{"ast":null,"code":"var _jsxFileName = \"/Users/nick/general_assembly/sei/flamingos/unit_4/project-4/Art-Space/client/src/screens/Show/Show.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useParams, Link } from \"react-router-dom\";\nimport { getShow } from \"../../services/shows.js\";\nimport { getArtist } from \"../../services/artists.js\";\nimport Work from \"../../components/Work/Work.jsx\";\nimport ShowFooter from \"../../components/ShowFooter/ShowFooter.jsx\";\nimport \"./Show.css\";\nimport ShowHeader from \"../../components/ShowHeader/ShowHeader.jsx\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Show(props) {\n  _s();\n\n  const params = useParams();\n  const {\n    currentUser\n  } = props;\n  const [show, setShow] = useState({});\n  const [artist, setArtist] = useState({});\n  useEffect(() => {\n    const fetchShow = async id => {\n      const current_show = await getShow(id);\n      setShow(current_show);\n    };\n\n    fetchShow(params.id);\n  }, []);\n  useEffect(() => {\n    const fetchArtist = async id => {\n      const showArtist = await getArtist(id);\n      setArtist(showArtist);\n    };\n\n    fetchArtist(show.artist_id);\n  }, [show]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ShowHeader, {\n      show: show\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"works-section\",\n      children: show.works ? show.works.map(work => /*#__PURE__*/_jsxDEV(Work, {\n        work: work\n      }, work.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ShowFooter, {\n      artist: artist\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Show, \"URukaU9dJ7TjdtVz2zvGqfB5L1s=\", false, function () {\n  return [useParams];\n});\n\n_c = Show;\nexport default Show;\n\nvar _c;\n\n$RefreshReg$(_c, \"Show\");","map":{"version":3,"sources":["/Users/nick/general_assembly/sei/flamingos/unit_4/project-4/Art-Space/client/src/screens/Show/Show.jsx"],"names":["useState","useEffect","useParams","Link","getShow","getArtist","Work","ShowFooter","ShowHeader","Show","props","params","currentUser","show","setShow","artist","setArtist","fetchShow","id","current_show","fetchArtist","showArtist","artist_id","works","map","work"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,kBAAhC;AACA,SAASC,OAAT,QAAwB,yBAAxB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,IAAP,MAAiB,gCAAjB;AACA,OAAOC,UAAP,MAAuB,4CAAvB;AACA,OAAO,YAAP;AACA,OAAOC,UAAP,MAAuB,4CAAvB;;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AACnB,QAAMC,MAAM,GAAGT,SAAS,EAAxB;AACA,QAAM;AAAEU,IAAAA;AAAF,MAAkBF,KAAxB;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,EAAD,CAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMgB,SAAS,GAAG,MAAOC,EAAP,IAAc;AAC9B,YAAMC,YAAY,GAAG,MAAMf,OAAO,CAACc,EAAD,CAAlC;AACAJ,MAAAA,OAAO,CAACK,YAAD,CAAP;AACH,KAHC;;AAIAF,IAAAA,SAAS,CAACN,MAAM,CAACO,EAAR,CAAT;AACD,GANQ,EAMN,EANM,CAAT;AAQAjB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMmB,WAAW,GAAG,MAAOF,EAAP,IAAc;AAChC,YAAMG,UAAU,GAAG,MAAMhB,SAAS,CAACa,EAAD,CAAlC;AACAF,MAAAA,SAAS,CAACK,UAAD,CAAT;AACD,KAHD;;AAIAD,IAAAA,WAAW,CAACP,IAAI,CAACS,SAAN,CAAX;AACD,GANQ,EAMN,CAACT,IAAD,CANM,CAAT;AAQA,sBACE;AAAA,4BACE,QAAC,UAAD;AAAY,MAAA,IAAI,EAAEA;AAAlB;AAAA;AAAA;AAAA;AAAA,YADF,eASE;AAAS,MAAA,SAAS,EAAC,eAAnB;AAAA,gBACCA,IAAI,CAACU,KAAL,GAAaV,IAAI,CAACU,KAAL,CAAWC,GAAX,CAAeC,IAAI,iBAC/B,QAAC,IAAD;AAAoB,QAAA,IAAI,EAAEA;AAA1B,SAAWA,IAAI,CAACP,EAAhB;AAAA;AAAA;AAAA;AAAA,cADY,CAAb,gBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHL;AAAA;AAAA;AAAA;AAAA,YATF,eAcE,QAAC,UAAD;AAAY,MAAA,MAAM,EAAEH;AAApB;AAAA;AAAA;AAAA;AAAA,YAdF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkBD;;GAxCQN,I;UACQP,S;;;KADRO,I;AA0CT,eAAeA,IAAf","sourcesContent":["import { useState, useEffect } from \"react\"\nimport { useParams, Link } from \"react-router-dom\"\nimport { getShow } from \"../../services/shows.js\"\nimport { getArtist } from \"../../services/artists.js\"\nimport Work from \"../../components/Work/Work.jsx\"\nimport ShowFooter from \"../../components/ShowFooter/ShowFooter.jsx\"\nimport \"./Show.css\"\nimport ShowHeader from \"../../components/ShowHeader/ShowHeader.jsx\"\n\nfunction Show(props) {\n  const params = useParams()\n  const { currentUser } = props\n  const [show, setShow] = useState({})\n  const [artist, setArtist] = useState({})\n\n  useEffect(() => {\n    const fetchShow = async (id) => {\n      const current_show = await getShow(id) \n      setShow(current_show)\n  } \n    fetchShow(params.id)\n  }, [])\n\n  useEffect(() => {\n    const fetchArtist = async (id) => {\n      const showArtist = await getArtist(id)\n      setArtist(showArtist)\n    }\n    fetchArtist(show.artist_id)\n  }, [show])\n\n  return(\n    <div>\n      <ShowHeader show={show} />\n      {/* <header className=\"show-header\">\n        <div className=\"show-header-text\"> \n          <h1>{show.title}</h1>\n          <p>{show.description}</p>\n        </div>\n        <img src={show.image_url} alt=\"show poster\"></img>\n      </header> */}\n      <section className=\"works-section\">\n      {show.works ? show.works.map(work => (\n        <Work key={work.id} work={work}/>\n      )) : <h3>loading...</h3>}\n      </section>\n      <ShowFooter artist={artist} />\n    </div>\n  )\n}\n\nexport default Show"]},"metadata":{},"sourceType":"module"}