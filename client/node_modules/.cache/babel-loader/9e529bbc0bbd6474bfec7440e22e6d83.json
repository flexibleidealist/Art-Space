{"ast":null,"code":"var _jsxFileName = \"/Users/nick/general_assembly/sei/flamingos/unit_4/project-4/Art-Space/client/src/screens/WorkEdit/WorkEdit.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { getWork, editWork, deleteWork } from \"../../services/works.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction WorkEdit() {\n  _s();\n\n  const params = useParams();\n  const history = useHistory();\n  const [workData, setWorkData] = useState({\n    title: \"\",\n    year: \"\",\n    materials: \"\",\n    image_url: \"\",\n    artist_id: \"\"\n  });\n  useEffect(() => {\n    const fetchWork = async id => {\n      const current_work = await getWork(id);\n      setWorkData(current_work);\n    };\n\n    fetchWork(params.id);\n  }, []);\n\n  const handleChange = event => {\n    setWorkData({ ...workData,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    await editWork(params.id, workData);\n    history.push(`/works/${params.id}`);\n  };\n\n  const handleDelete = async () => {\n    await deleteWork(workData.id);\n    history.push(`/shows/${workData.show_id}/edit`);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"work-edit-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"title\",\n      children: \"work title:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"title\",\n      type: \"text\",\n      value: workData.title,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"year\",\n      children: \"year:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"year\",\n      type: \"text\",\n      value: workData.year,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"materials\",\n      children: \"materials:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"materials\",\n      type: \"text\",\n      value: workData.materials,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"image_url\",\n      children: \"image URL:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"image_url\",\n      type: \"text\",\n      value: workData.image_url,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete,\n      children: \"remove work from show\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 3\n  }, this);\n}\n\n_s(WorkEdit, \"oQdsN0cZboW94P+8ZDoDsu68Tb4=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = WorkEdit;\nexport default WorkEdit;\n\nvar _c;\n\n$RefreshReg$(_c, \"WorkEdit\");","map":{"version":3,"sources":["/Users/nick/general_assembly/sei/flamingos/unit_4/project-4/Art-Space/client/src/screens/WorkEdit/WorkEdit.jsx"],"names":["useState","useEffect","useHistory","useParams","getWork","editWork","deleteWork","WorkEdit","params","history","workData","setWorkData","title","year","materials","image_url","artist_id","fetchWork","id","current_work","handleChange","event","target","name","value","handleSubmit","preventDefault","push","handleDelete","show_id"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\"\nimport { useHistory, useParams } from \"react-router-dom\"\nimport { getWork, editWork, deleteWork } from \"../../services/works.js\"\n\nfunction WorkEdit() {\n  const params = useParams()\n  const history = useHistory()\n  const [workData, setWorkData] = useState({\n    title: \"\",\n    year: \"\",\n    materials: \"\",\n    image_url: \"\",\n    artist_id: \"\",\n  })\n\n  useEffect(() => {\n    const fetchWork = async (id) => {\n    const current_work = await getWork(id)\n    setWorkData(current_work)\n  }\n    fetchWork(params.id)\n  }, [])\n\n  const handleChange = (event) => {\n    setWorkData({\n      ...workData,\n      [event.target.name]: event.target.value,\n    })\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    await editWork(params.id, workData)\n    history.push(`/works/${params.id}`)\n  }\n\n  const handleDelete = async () => {\n    await deleteWork(workData.id)\n    history.push(`/shows/${workData.show_id}/edit`)\n  }\n  return(\n  <form onSubmit={handleSubmit} className=\"work-edit-form\">\n    <label htmlFor=\"title\">work title:</label>\n    <input \n      name=\"title\"\n      type=\"text\"\n      value={workData.title}\n      onChange={handleChange}\n    />\n  \n    <label htmlFor=\"year\">year:</label>\n    <input \n      name=\"year\"\n      type=\"text\" \n      value={workData.year}\n      onChange={handleChange}\n    />\n  \n    <label htmlFor=\"materials\">materials:</label>\n    <input \n      name=\"materials\"\n      type=\"text\" \n      value={workData.materials}\n      onChange={handleChange}\n    />\n    <label htmlFor=\"image_url\">image URL:</label>\n    <input \n      name=\"image_url\"\n      type=\"text\" \n      value={workData.image_url}\n      onChange={handleChange}\n    />\n  <button type=\"submit\">submit</button>\n  <button onClick={handleDelete}>remove work from show</button>\n  </form>  \n\n)\n}\n\nexport default WorkEdit"]},"metadata":{},"sourceType":"module"}